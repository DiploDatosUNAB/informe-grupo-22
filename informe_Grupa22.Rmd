---
title: "TP1_Grupo22"
author: "Rosario Recalt y Pilar Medela"
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)

# Cargar los paquetes necesarios acá
```

```{r}
# install.packages(readr)
library(readr)
vinos <- readr::read_csv("https://raw.githubusercontent.com/cienciadedatos/datos-de-miercoles/master/datos/2019/2019-06-12/vinos.csv")
```


## Introducción

La base de vinos contiene diez variables y 129.971 casos. La misma contiene variables nominales, numéricas y ordianales. En función de ello, refiere a datos sobre el país, provincia y región de origen, el nombre del vino, el puntaje asignado al vino, la variedad y el título de la reseña. Los datos fueron exraídos de la Revista WineEnthusiast (http://www.winemag.com/?s=&drink_type=wine)



## Exploración de los datos




```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# Cargar los paquetes necesarios acá
```

```{r}
# install.packages(readr)
library(readr)
vinos <- readr::read_csv("https://raw.githubusercontent.com/cienciadedatos/datos-de-miercoles/master/datos/2019/2019-06-12/vinos.csv")
```


## Introducción

La base de vinos contiene diez variables para 129.971 casos. La variables de esta base son en su mayoria nominales, pero al parecer contiene tambien alguna variable numérica (puntaje y precio). En función de ello, refiere a datos sobre el país, provincia y región de origen, el nombre del vino, el puntaje asignado al vino, la variedad y el título de la reseña. Los datos fueron exraídos de la Revista WineEnthusiast (http://www.winemag.com/?s=&drink_type=wine), no encontramos fecha de referencia de esta base.



## Exploración de los datos
Primero vemos los datos 

```{r}
library(readr)
vinos <- read_csv("datos/vinos.csv")
View(vinos)

```

Ahora que los tenemos podemos explorar la información al interior de las base, utilizamos dplyr

```{r}
library(dplyr)

```

Miramos cuantos casos son de Argentina, tendremos que filtrar datos 

```{r}

filter(vinos, "pais" == "Argentina")  


```

No podemos visulizar bien con la información que nos tira esta tabla, veremos de generar una variable vinos de Argentina

```{r}
vinos_argentinos <- filter(vinos, "pais" == "Argentina" )
View(vinos_argentinos)
```

antes de ver que paso con vinos argentinos vamos a mirar el promedio de la variable puntos


```{r}
summary(vinos, proporcion_media = mean(puntos))
```


```{r}
vinos |>
  group_by(pais) |>
  summarise(mean(puntos,na.rm = TRUE), mean(precio, na.rm = TRUE))

```
#Observamos los resultados que arroja la base respecto a la representación argentina en relación a los demás países de la base. Tomando las variables numéricas, precio y puntos, observamos la media, el máximo y mínimo del tota, y luego la relación de estas mismas propiedades de argentina.
Los valores máximo, mínimo y promedio de precio del total de la base son: máximo = 330; mínimo = 4; promedio = 35.36
De Argentina, el precio promedio del vino es 24.51 y está por debajo del precio promedio.
Por otro lado, estas mismas medidas del puntaje para el total de vinos de la base son: el máximo = 100 y el mínimo = 80, y el promedio = 88.45.
En Argentina, el promedio de puntaje es 86,7 y está por debajo del promedio de puntos total de la base.



## Hipótesis

Hipótesis 1: Hay un relación directa entre puntaje y precio. Es decir que a mayor puntaje mayor precio. En consecuencia, los países con mayor puntaje tienen los vinos más caros de la base. 

Hipótesis 2: La gran dispersión del precio de los vinos, es decir, la importante diferencia entre el mínimo y el máximo de los precios de los vinos, no se encuentra al interior de cada país sino que responde a diferencias entre los países.

#TP 2

Corregimos algunas cosas, avanzamos con las tablas y gráficos

Graficar la relación entre puntaje y precio:
  
```{r}
vinos |>
  ggplot(aes(precio, puntos)) +
  geom_point()
```
  

```{r}
vinos |>
  ggplot(aes(precio, pais)) +
  geom_line(aes(color = as.factor(puntos))) 
```



```{r}
vinos |>
   filter(puntos >= 95) |>
  ggplot(aes(precio, pais)) +
  geom_line(aes(color = as.factor(puntos))) 
``` 

Ahora para argentinos

```{r}
vinos |>
   filter(puntos >= 95) |>
  ggplot(aes(precio, pais)) +
  geom_point(aes(color = as.factor(puntos))) 

```



```{r}
vinos |>
  group_by(pais) |>
    ggplot(aes(puntos, precio)) +
  geom_line() 
```
Sigo con argentinos por provincia

```{r}
vinos_argentinos |>
  ggplot(aes(provincia, puntos)) +
  geom_point()
```


```{r}
vinos_argentinos |>
  ggplot(aes(puntos, precio)) +
  geom_point( aes(color = as.factor(provincia)))
```


